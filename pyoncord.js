"use strict";(()=>{var Y=Object.defineProperty;var en=Object.getOwnPropertyDescriptor;var tn=Object.getOwnPropertyNames;var nn=Object.prototype.hasOwnProperty;var i=(e,t)=>Y(e,"name",{value:t,configurable:!0});var s=(e,t)=>()=>(e&&(t=e(e=0)),t);var f=(e,t)=>{for(var n in t)Y(e,n,{get:t[n],enumerable:!0})},rn=(e,t,n,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of tn(t))!nn.call(e,r)&&r!==n&&Y(e,r,{get:()=>t[r],enumerable:!(o=en(t,r))||o.enumerable});return e};var J=e=>rn(Y({},"__esModule",{value:!0}),e);var N,Z=s(()=>{N="fb377bd"});var et,y,X=s(()=>{et=["a","b","i"],y=new Map});function xe(e,t,n,o,r){let a=y.get(t)?.[e];if(!a)return r?Reflect.construct(t[e],n,o):t[e].apply(o,n);for(let l of a.b.values()){let d=l.call(o,n);Array.isArray(d)&&(n=d)}let c=[...a.i.values()].reduce(function(l,d){return function(){for(var m=arguments.length,$=new Array(m),F=0;F<m;F++)$[F]=arguments[F];return d.call(o,$,l)}},function(){for(var l=arguments.length,d=new Array(l),m=0;m<l;m++)d[m]=arguments[m];return r?Reflect.construct(a.o,d,o):a.o.apply(o,d)})(...n);for(let l of a.a.values())c=l.call(o,n,c)??c;return c}var tt=s(()=>{X();i(xe,"default")});function nt(e,t,n,o){let r=y.get(e),a=r?.[t];return a?.[o].has(n)?(a[o].delete(n),et.every(function(c){return a[c].size===0})&&(Reflect.defineProperty(e,t,{value:a.o,writable:!0,configurable:!0})||(e[t]=a.o),delete r[t]),Object.keys(r).length==0&&y.delete(e),!0):!1}var ve=s(()=>{X();i(nt,"unpatch")});function B(e){return function(t,n,o){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(typeof n[t]!="function")throw new Error(`${t} is not a function in ${n.constructor.name}`);y.has(n)||y.set(n,{});let a=y.get(n);if(!a[t]){let d=n[t];a[t]={o:d,b:new Map,i:new Map,a:new Map};let m=i(function(q,v,z){let Qt=xe(t,n,v,q,z);return r&&l(),Qt},"runHook"),$=new Proxy(d,{apply:function(q,v,z){return m(v,z,!1)},construct:function(q,v){return m(d,v,!0)},get:function(q,v,z){return v=="toString"?d.toString.bind(d):Reflect.get(q,v,z)}});Reflect.defineProperty(n,t,{value:$,configurable:!0,writable:!0})||(n[t]=$)}let c=Symbol(),l=i(function(){return nt(n,t,c,e)},"unpatchThisPatch");return a[t][e].set(c,o),l}}var rt=s(()=>{tt();X();ve();i(B,"default")});var T,Q,ee,k=s(()=>{rt();ve();T=B("b"),Q=B("i"),ee=B("a")});var Ee={};f(Ee,{_resolveReady:()=>_e,factoryCallbacks:()=>D,filters:()=>_,findByDisplayName:()=>cn,findByName:()=>sn,findByProps:()=>p,findByStoreName:()=>un,findInitializedModule:()=>E,getInitializedModules:()=>at,onceReady:()=>on});function ot(e){return e==null||e===globalThis||typeof e=="boolean"||typeof e=="number"||typeof e=="string"||e["whar???"]===null}function an(e){Object.defineProperty(modules,e,{value:modules[e],enumerable:!1,configurable:!0,writable:!0})}function it(e,t){let n=E(_.byProps(e));if(n!==-1)return t(globalThis.__r(n)),function(){};let o=i(function(r){r.default&&r.__esModule&&_.byProps(e)(r.default)&&(D.delete(o),t(r.default)),_.byProps(e)(r)&&(D.delete(o),t(r))},"matches");return D.add(o),function(){return D.delete(o)}}function*at(){for(let e in modules)if(modules[e].isInitialized){if(ot(modules[e].publicModule.exports)){an(e);continue}yield{id:Number(e),...modules[e].publicModule}}}function E(e){for(let{exports:t,id:n}of at())if(t?.default&&e(t.default)||e(t))return n;return-1}function p(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return E(_.byProps(...t))}function sn(e){return E(_.byName(e))}function cn(e){return E(_.byDisplayName(e))}function un(e){return E(_.byStoreName(e))}var D,_e,on,_,te,ne=s(()=>{"use strict";k();D=new Set,on=new Promise(function(e){return _e=e});i(ot,"isInvalidExport");i(an,"blacklist");i(it,"waitForModuleWithProp");_={byProps:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(o){return t.length===1?o[t[0]]!=null:t.every(function(r){return o?.[r]!=null})}},byName:function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return function(n){return(t?n.name:n.default?.name)===e}},byDisplayName:function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return function(n){return(t?n.displayName:n.default?.displayName)===e}},byStoreName:function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return function(n){return n._dispatcher&&(t?n:n.default)?.getName?.()===e}}},te=-1;Object.keys(modules).forEach(function(e){modules[e].factory&&Q("factory",modules[e],function(t,n){te=Number(e),n(...t);let{5:o}=t;ot(o)||D.forEach(function(r){return r(o)}),te=-1},!0)});it("fileFinishedImporting",function(e){T("fileFinishedImporting",e,function(t){let[n]=t;te!==-1&&(modules[te].location=n)})});it("_actionHandlers",function(e){let t=i(function(){_e(),e.unsubscribe("CONNECTION_OPEN",t)},"cb");e.subscribe("CONNECTION_OPEN",t)});i(at,"getInitializedModules");i(E,"findInitializedModule");i(p,"findByProps");i(sn,"findByName");i(cn,"findByDisplayName");i(un,"findByStoreName")});var st,ct=s(()=>{"use strict";ne();st=i(function(){return{react:p("createElement"),"react-native":p("PlatformColor"),AssetManager:p("getAssetByID"),I18n:p("Messages"),Tables:p("TableRow"),NavigationNative:p("NavigationContainer"),Colors:p("unsafe_rawColors"),Constants:p("NODE_SIZE"),FluxDispatcher:p("dispatch","subscribe"),TabsNavigationRef:p("getRootNavigationRef"),SettingConstants:p("SETTING_RENDERER_CONFIG")}},"getRequireDefintion")});var re,ut=s(()=>{re="df23fee93482b793bfe5555e14ca1f21b65d9785e15ae23732b84f78d6615e54"});var lt={};f(lt,{initCache:()=>mn});async function ln(){let e=await oe.getItem("pyon-cache");if(e!=null)return JSON.parse(e)}async function fn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"pyon-cache";oe.removeItem(t),oe.setItem(t,JSON.stringify(e)),await oe.getItem(t),h.nativeModuleProxy.BundleUpdaterManager.reload()}async function dn(){console.log(`Cache invalidated, begining cache for version=${Pe}, hash=${re}`);let e={version:Pe,hash:re,stats:{skippedModuleIds:new Array,logs:new Array},modules:{},assets:{}},t=i(function(r){console.log(r),e.stats.logs.push(r)},"log"),n=globalThis.__r(E(function(r){return r.registerAsset}));T("registerAsset",n,function(r){let[a]=r;e.assets[a.name]=a});for(let r in h.modules){let a=function(){try{return h.__r(r)}catch{e.stats.skippedModuleIds.push(Number(r))}}();a?.default&&a.default._dispatcher&&typeof a.default.getName=="function"&&(e.modules[a.default.getName()]=Number(r)),h.modules[r]?.location&&(e.modules[h.modules[r].location]=Number(r))}let o=st();for(let r in o){if(e.modules[r]!=null){t(`Manual require definition of ('${r}') conflicts with internal cacher, skipping..`);continue}let a=o[r];if(a===-1){e.modules[r]=-1,t(`Failed to execute find of '${r}'`);continue}e.modules[r]=a,h.modules[a].location&&(e.modules[h.modules[a].location]=a,t(`Module '${r}' (${a}) can be located with path '${h.modules[a].location}'`))}await fn(e)}function pn(e){if(e.version!==Pe||e.hash!==re)return!0}async function mn(){let e=await ln();if(e&&!pn(e))return h.pyonRequire=i(function(n){return e.modules[n]},"pyonRequire"),Object.assign(h.pyonRequire,{getCache:function(){return e},requireAsset:function(t){return e.assets[t]}});h.ErrorUtils=void 0,h.__startDiscord?.(),await dn().then(console.error),await new Promise(function(){})}var oe,Pe,h,ft=s(()=>{"use strict";ne();ct();k();ut();oe=nativeModuleProxy.MMKVManager,Pe=nativeModuleProxy.RTNClientInfoManager.Build,h=globalThis;i(ln,"getItem");i(fn,"updateItemAndRestart");i(dn,"beginCache");i(pn,"isCacheInvalidated");i(mn,"initCache")});function ae(e){let t=i(function(){},"dummy");return t[ie]=function(){return t[hn]??=e()},new Proxy(t,gn)}var ie,hn,pt,dt,gn,Re=s(()=>{"use strict";ie=Symbol("lazyFactory"),hn=Symbol("lazyCache"),pt=["arguments","caller","prototype"],dt=i(function(e){return typeof e=="string"&&pt.includes(e)},"isUnconfigurable"),gn={...Object.fromEntries(Object.getOwnPropertyNames(Reflect).map(function(e){return[e,function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return Reflect[e](t[ie](),...o)}]})),ownKeys:function(e){let t=Reflect.ownKeys(e[ie]());return pt.forEach(function(n){return dt(n)&&t.push(n)}),t},getOwnPropertyDescriptor:function(e,t){if(dt(t))return Reflect.getOwnPropertyDescriptor(e,t);let n=Reflect.getOwnPropertyDescriptor(e[ie](),t);return n&&Object.defineProperty(e,t,n),n}};i(ae,"proxyLazy")});var Oe={};f(Oe,{AssetManager:()=>M,Colors:()=>bn,Constants:()=>wn,FluxDispatcher:()=>Se,Forms:()=>yn,I18n:()=>Ne,NavigationNative:()=>se,Tables:()=>L,TabsNavigationRef:()=>Ie});var M,Ne,yn,L,se,bn,wn,Se,Ie,S=s(()=>{"use strict";I();M=b("AssetManager"),Ne=P("I18n"),yn=b("uikit-native/refresh/form/index.tsx"),L=b("Tables"),se=b("NavigationNative"),bn=P("Colors"),wn=b("Constants"),Se=P("FluxDispatcher"),Ie=b("TabsNavigationRef")});var ce={};f(ce,{canRequire:()=>Te,common:()=>Oe,internal:()=>Ee,requireMetro:()=>Ae,requireMetroDefaultLazy:()=>P,requireMetroLazy:()=>b,waitForModule:()=>U});function Te(e){return pyonRequire(e)!=null&&pyonRequire(e)!==-1}function Ae(e){if(!Te(e))throw new Error(`Module with name '${e}' was not found/cached`);let t=pyonRequire(e);return globalThis.__r(t)}function b(e,t){if(!Te(e))throw new Error(`Module with name '${e}' was not found/cached`);return ae(function(){return t?t(Ae(e)):Ae(e)})}function P(e){return b(e,function(t){return t.default})}function U(e,t){let n=pyonRequire(e);if(!n||n===-1)throw new Error(`Module '${e}' was ${n?"not found":"not cached"}`);let o=modules[n];if(o.isInitialized)return t(o.publicModule.exports,o,n),function(){};{let r=ee("factory",modules[n],function(a){t(a[4].exports,o,n)},!0);return function(){return r()}}}var I=s(()=>{"use strict";Re();k();ne();S();i(Te,"canRequire");i(Ae,"requireMetro");i(b,"requireMetroLazy");i(P,"requireMetroDefaultLazy");i(U,"waitForModule")});function ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var De=s(()=>{i(ue,"_class_call_check")});function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Me=s(()=>{i(u,"_define_property")});var Ce,g,je=s(()=>{"use strict";De();Me();I();k();Ce=new Map,g=i(function e(t){"use strict";var n=this;if(ue(this,e),u(this,"identifier",void 0),u(this,"patches",[]),u(this,"stopped",!1),u(this,"__contextedPatches",void 0),u(this,"before",function(o,r,a){return n.addUnpatcher(T(r,o,a))}),u(this,"after",function(o,r,a){return n.addUnpatcher(ee(r,o,a))}),u(this,"instead",function(o,r,a){return n.addUnpatcher(Q(r,o,a))}),u(this,"waitAndPatch",function(o,r){let a=new Array,c=U(o,function(l,d,m){n.__contextedPatches=a,r(l,d,m),n.__contextedPatches=void 0});return n.addUnpatcher(c),function(){return c(),a.forEach(function(l){return l?.()})}}),u(this,"addUnpatcher",function(o){if(n.stopped)return function(){return!1};if(typeof o!="function")throw new Error("Unpatcher must be a function");return n.__contextedPatches?.push(o),n.patches.push(o),o}),u(this,"unpatchAllAndStop",function(){let o=!0;n.stopped=!0;for(let r of n.patches)try{if(r?.()===!1)throw void 0}catch{o=!1}return Ce.delete(n.identifier),o}),!t||typeof t!="string")throw new Error("Patcher identifier must be a non-empty string");if(Ce.has(t))throw new Error(`Patcher with identifier "${t}" already exists`);this.identifier=t,Ce.set(t,this)},"Patcher")});function mt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ht(e,t,n){return t&&mt(e.prototype,t),n&&mt(e,n),e}var gt=s(()=>{i(mt,"_defineProperties");i(ht,"_create_class")});var qe={};f(qe,{readFile:()=>Fe,removeFile:()=>$e,writeFile:()=>fe});async function $e(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"pyoncord/";return void await le.removeFile("documents",`${t}${e}`)}async function fe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"pyoncord/";return void await le.writeFile("documents",`${n}${e}`,t,"utf8")}async function Fe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"pyoncord/";try{return await le.readFile(`${le.getConstants().DocumentsDirPath}/${n}${e}`,"utf8")}catch{if(t==null)throw new Error(`File ${e} doesn't exist`);return fe(e,t),t}}var le,de=s(()=>{"use strict";({RTNFileManager:le}=nativeModuleProxy);i($e,"removeFile");i(fe,"writeFile");i(Fe,"readFile")});var Be={};f(Be,{getAssetByID:()=>vn,getAssetByName:()=>xn,getAssetIDByName:()=>_n,patchAssets:()=>ze,registeredAssets:()=>w,requireAssetFromCache:()=>bt,resolveAssets:()=>G});function ze(){yt.instead(M,"registerAsset",function(n,o){let[r]=n;return w[r.name]?(Object.assign(w[r.name],r),w[r.name].id):(w[r.name]={...r,id:o(...n)},w[r.name].id)});let e,t=1;for(;e=M.getAssetByID(t);)w[e.name]??={...e,id:t},t++;return function(){return yt.unpatchAllAndStop()}}function bt(e){let t=pyonRequire.requireAsset(e);return M.registerAsset(t)}function G(e){return new Proxy({},{get:function(t,n){return t[n]??=bt(e[n])}})}var yt,w,xn,vn,_n,V=s(()=>{"use strict";O();S();yt=new g("assets-patcher"),w={};i(ze,"patchAssets");xn=i(function(e){return w[e]},"getAssetByName"),vn=i(function(e){return M.getAssetByID(e)},"getAssetByID"),_n=i(function(e){return w[e]?.id},"getAssetIDByName");i(bt,"requireAssetFromCache");i(G,"resolveAssets")});function wt(e,t){return pe(e,t,{walkable:["props","children","child","sibling"]})}var xt=s(()=>{"use strict";H();i(wt,"findInReactTree")});function ke(e,t,n,o){if(!(o>n.maxDepth)&&e){try{if(t(e))return e}catch{}if(Array.isArray(e)){for(let r of e)if(!(typeof r!="object"||r===null))try{let a=ke(r,t,n,o+1);if(a)return a}catch{}}else if(typeof e=="object"){for(let r of Object.keys(e))if(!(typeof e[r]!="object"||e[r]===null)&&!(n.walkable.length&&!n.walkable.includes(r))&&!n.ignore.includes(r))try{let a=ke(e[r],t,n,o+1);if(a)return a}catch{}}}}function pe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ke(e,t,{walkable:[],ignore:[],maxDepth:100,...n},0)}var vt=s(()=>{"use strict";i(ke,"treeSearch");i(pe,"findInTree")});async function me(e,t,n,o){let r=await t.then(function(a){return a.default});typeof n=="string"&&(n={title:n}),e.navigate("PyoncordCustomPage",{...n,render:function(){return React.createElement(r,o)}})}var _t=s(()=>{"use strict";i(me,"lazyNavigate")});function W(e,t){let n={get(o,r){let a=o[r];return typeof a=="object"?W(a,t):a},set(o,r,a){return o[r]=a,t(),!0},deleteProperty(o,r){return delete o[r],t(),!0}};return new Proxy(e,n)}var Et=s(()=>{"use strict";i(W,"observeObject")});var Le={};f(Le,{assets:()=>Be,findInReactTree:()=>wt,findInTree:()=>pe,lazyNavigate:()=>me,observeObject:()=>W,proxyLazy:()=>ae});var H=s(()=>{"use strict";V();xt();vt();_t();Et();Re()});var K,Pt,C,Ue=s(()=>{"use strict";De();gt();Me();de();H();K=Promise.resolve(),Pt=i(async function(){return await K},"waitForStorage"),C=function(){"use strict";function e(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var o=this;ue(this,e),u(this,"path",void 0),u(this,"defaultData",void 0),u(this,"_cachedProxy",void 0),u(this,"_readAwaiter",void 0),u(this,"callbacks",void 0),u(this,"snapshot",void 0),u(this,"init",void 0),u(this,"subscribe",void 0),u(this,"useStorage",void 0),this.path=t,this.defaultData=n,this._cachedProxy=null,this.callbacks=new Set,this.init=async function(){return o._readAwaiter?o._readAwaiter:(o.snapshot=JSON.parse(await Fe(o.path,JSON.stringify(o.defaultData))),o)},this.subscribe=function(a){return o.callbacks.add(a),function(){return o.callbacks.delete(a)}},this.useStorage=function(){let a=React.useReducer(function(c){return~c},0)[1];return React.useEffect(function(){let c=o.subscribe(a);return function(){return void c()}},[]),o.proxy};let r=this._readAwaiter=this.init();K=K.then(async function(){return void await r})}return i(e,"SettingsAPI"),ht(e,[{key:"proxy",get:function(){var t=this;if(!this.snapshot)throw new Error("StorageWrapper not initialized");return this._cachedProxy??=W(this.snapshot,async function(){t.callbacks.forEach(function(o){return o(t.snapshot)});let n=fe(t.path,JSON.stringify(t.snapshot));K=K.then(function(){return n})})}}]),e}()});var Ge={};f(Ge,{Patcher:()=>g,SettingsAPI:()=>C});var O=s(()=>{"use strict";je();Ue()});var Ve={};f(Ve,{connectToDebugger:()=>he});function he(){if(x)return;x=new WebSocket("ws://localhost:9090/");let e={...pyoncord.metro,...pyoncord.utils,patcher:Pn},[t,n]=[Object.keys(e),Object.values(e)];x.addEventListener("open",function(){return console.log("Connected to debug websocket")}),x.addEventListener("error",function(r){return console.error(r.message)}),x.addEventListener("message",function(r){try{new Rn(...t,`return (${r.data})`)(...n).then(console.log).catch(console.error)}catch(a){console.error(a)}});let o=En(globalThis,"nativeLoggingHook",function(r){let[a,c]=r;x?.readyState===WebSocket.OPEN&&x.send(JSON.stringify({level:c,message:a}))});x.addEventListener("close",function(){o(),x=null,setTimeout(he,3e3)})}var En,Pn,x,Rn,He=s(()=>{"use strict";O();({before:En}=new g("debug-ws-patcher")),Pn=new g("ws-patcher"),x=null,Rn=Object.getPrototypeOf(async function(){}).constructor;i(he,"connectToDebugger")});var ge=s(()=>{"use strict"});var St={};f(St,{default:()=>Sn});var Rt,Nn,Sn,It=s(()=>{"use strict";I();S();ge();Rt=P("UserStore"),Nn=P("ExperimentStore"),Sn={name:"Experiments",description:"Unlock experimental Discord features!",start(){this.stop=Se.subscribe("CONNECTION_OPEN",function(){Rt.getCurrentUser().flags|=1,Rt._dispatcher._actionHandlers._computeOrderedActionHandlers("OVERLAY_INITIALIZE").forEach(function(e){let{name:t,actionHandler:n}=e;t.includes?.("Experiment")&&n?.({serializedExperimentStore:Nn.getSerializedState(),user:{flags:1}})})})},stop(){}}});var Ot={};f(Ot,{default:()=>In});var In,At=s(()=>{"use strict";I();ge();In={name:"NoGiftButton",description:"Wave goodbye to the gift button cluttering your chat input.",start(){let e,t,n=U("uikit-native/ChatInput.tsx",function(o){let{default:r}=o;t=r,{hideGiftButton:e}=r.defaultProps,r.defaultProps.hideGiftButton=!0});this.stop=function(){return e!==void 0?t.defaultProps.hideGiftButton=e:n()}},stop(){}}});var Tt={};f(Tt,{default:()=>On});var We,On,Dt=s(()=>{"use strict";O();ge();We=new g("idle-patcher"),On={name:"NoIdle",description:"Keep your status active even when you're not using the app",start(){We.waitAndPatch("FluxDispatcher",function(e){let{default:t}=e;We.before(t,"dispatch",function(n){if(n[0].type==="IDLE")return[{type:"THIS_TYPE_DOES_NOT_EXIST"}]})})},stop(){We.unpatchAllAndStop()}}});var ye,Mt=s(()=>{ye={Experiments:{name:"Experiments",definer:()=>(It(),J(St))},NoGiftButton:{name:"NoGiftButton",definer:()=>(At(),J(Ot))},NoIdle:{name:"NoIdle",definer:()=>(Dt(),J(Tt))}}});function An(e){let t=A.proxy[e];return t||(t=A.proxy[e]={enabled:!0}),t}function Ct(e){return A.useStorage()[e].enabled}function jt(e){return An(e).enabled}function $t(e){let t=j.get(e);if(!t)throw new Error(`No plugin named '${e}' was loaded`);jt(e)&&t.start?.()}function Tn(e){let t=j.get(e);if(!t)throw new Error(`No plugin named '${e}' was loaded`);if(jt(e))throw new Error(`Plugin '${e}' was stopped without disabling`);t.stop?.()}function Ft(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;A.proxy[e].enabled=!0,t&&$t(e)}function qt(e){A.proxy[e].enabled=!1,Tn(e)}function zt(){for(let e in ye){let{name:t,definer:n}=ye[e];try{j.set(t,n().default)}catch{console.error(`${ye[e].name} exploded while loading.`)}try{$t(t)}catch{console.error(`Error while starting '${t}'`)}}return function(){return j.forEach(function(e){return e.stop?.()})}}var j,A,Ke=s(()=>{"use strict";O();Mt();j=new Map,A=new C("plugins.json");i(An,"getPluginSettings");i(Ct,"usePluginEnabled");i(jt,"isPluginEnabled");i($t,"startPlugin");i(Tn,"stopPlugin");i(Ft,"enablePlugin");i(qt,"disablePlugin");i(zt,"loadPlugins")});var Ut={};f(Ut,{default:()=>Lt});async function Cn(){await $e("vendetta_loader.json",""),setTimeout(nativeModuleProxy.BundleUpdaterManager.reload,100)}function Lt(){return React.createElement(Dn,{style:{flex:1},contentContainerStyle:{padding:16,alignItems:"center"}},React.createElement(Mn,{spacing:24},React.createElement(Bt,null,React.createElement(R,{label:"Pyoncord",icon:React.createElement(R.Icon,{source:Ye.Wrench}),trailing:React.createElement(R.TrailingText,{text:N})}),React.createElement(R,{label:"Discord",icon:React.createElement(R.Icon,{source:Ye.Discord}),trailing:React.createElement(R.TrailingText,{text:`${kt.Version} (${kt.Build})`})})),React.createElement(Bt,null,window.__vendetta_loader&&React.createElement(R,{label:"Revert back to Vendetta",subLabel:"Restore Vendetta loader settings back to default, \u30D0\u30A4\u30D0\u30A4\uFF01",icon:React.createElement(R.Icon,{source:Ye.Retry}),onPress:Cn}))))}var Dn,Mn,R,Bt,kt,Ye,Gt=s(()=>{"use strict";S();de();V();Z();({ScrollView:Dn}=ReactNative),{Stack:Mn,TableRow:R,TableRowGroup:Bt}=L,kt=nativeModuleProxy.RTNClientInfoManager,Ye=G({Wrench:"ic_progress_wrench_24px",Discord:"Discord",Retry:"ic_message_retry"});i(Cn,"revertToVendetta");i(Lt,"General")});var Ht={};f(Ht,{default:()=>Vt});function zn(e){let{instance:t}=e,n=Ct(t.name);return React.createElement(Fn,{key:t.name,label:t.name,subLabel:t.description,value:n,onValueChange:function(o){o?Ft(t.name,!0):qt(t.name)}})}function Vt(){return A.useStorage(),React.createElement(jn,{style:{flex:1},contentContainerStyle:{paddingBottom:38}},React.createElement($n,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24},React.createElement(qn,{title:"Plugins"},Array.from(j.values()).map(function(e){return React.createElement(zn,{instance:e})}))))}var jn,$n,Fn,qn,Wt=s(()=>{"use strict";Ke();S();({ScrollView:jn}=ReactNative),{Stack:$n,TableSwitchRow:Fn,TableRowGroup:qn}=L;i(zn,"PluginRow");i(Vt,"Plugins")});function we(){return be.waitAndPatch("SettingConstants",function(e){e.SETTING_RENDERER_CONFIG.PYONCORD_CUSTOM_PAGE={type:"route",title:function(){return"Blah?"},screen:{route:"PyoncordCustomPage",getComponent:function(){return Bn}}};for(let t of Object.values(Je))t.forEach(function(n){let[o,r,a,c]=n;e.SETTING_RENDERER_CONFIG[o]={type:"pressable",title:function(){return r},icon:c,onPress:function(){let l=Ie.getRootNavigationRef();me(l,a(),r)},withArrow:!0}})}),be.waitAndPatch("modules/main_tabs_v2/native/settings/renderer/SettingListRenderer.tsx",function(e){be.before(e.SearchableSettingsList,"type",function(t){let[{sections:n}]=t;if(n.__pyonMarkDirty)return;n.__pyonMarkDirty=!0;let o=-~n.findIndex(function(r){return r.label===Ne.Messages.ACCOUNT_SETTINGS})||1;Object.keys(Je).forEach(function(r){n.splice(o++,0,{label:r,settings:Je[r].map(function(a){return a[0]})})})})}),function(){return be.unpatchAllAndStop()}}var be,Kt,Je,Bn,Yt=s(()=>{"use strict";je();S();H();V();Z();be=new g("settings-patcher"),Kt=G({Discord:"Discord",Wrench:"ic_progress_wrench_24px"}),Je=window.__pyoncord_sections_patch={[`Pyoncord (${N})`]:[["PYONCORD","Pyoncord",function(){return Promise.resolve().then(()=>(Gt(),Ut))},Kt.Discord],["PYONCORD_PLUGINS","Plugins",function(){return Promise.resolve().then(()=>(Wt(),Ht))},Kt.Wrench]]},Bn=React.memo(function(){let e=se.useNavigation(),t=se.useRoute(),{render:n,...o}=t.params;return React.useEffect(function(){return void e.setOptions({...o})},[]),React.createElement(n,null)});i(we,"patchSettings")});var Ze={};f(Ze,{patchSettings:()=>we});var Xe=s(()=>{"use strict";Yt()});var Qe={};f(Qe,{getCurrentTheme:()=>kn});function kn(){throw new Error("Not implemented")}var Jt=s(()=>{"use strict";i(kn,"getCurrentTheme")});var Zt={};f(Zt,{api:()=>Ge,debug:()=>Ve,initializePyoncord:()=>Un,metro:()=>ce,native:()=>qe,patches:()=>Ze,settings:()=>Ln,themes:()=>Qe,utils:()=>Le});async function Un(){he(),await Pt();let e=[ze(),we(),zt()];window.__startDiscord?.(),this.unload=function(){console.log("Unloading Pyoncord..."),e.forEach(function(t){return t&&t()})},delete this.initializePyoncord}var Ln,Xt=s(()=>{"use strict";O();Ue();He();Ke();Xe();V();O();He();I();de();Xe();Jt();H();Ln=new C("settings.json");i(Un,"initializePyoncord")});Z();console.log(`\u30D4\u30E7\u30F3! (Pyoncord, hash=${N}, dev=${!1})`);(async function(){try{if(Object.freeze=Object.seal=Object,await(ft(),J(lt)).initCache(),!window.pyonRequire)throw new Error("Pyoncord continued without pyonRequire");let{requireMetro:e}=await Promise.resolve().then(()=>(I(),ce));window.React=e("react"),window.ReactNative=e("react-native"),window.pyoncord={...await Promise.resolve().then(()=>(Xt(),Zt))},await pyoncord.initializePyoncord()}catch(e){e=e?.stack??e,alert([`Failed to load Pyoncord.
`,`Build Hash: ${N}`,`Debug Build: ${!1}`,`Build Number: ${nativeModuleProxy.RTNClientInfoManager?.Build}`,e].join(`
`)),console.error(e),window.__startDiscord?.()}})().catch(function(e){console.error(e)});})();
//# sourceURL=pyoncord
